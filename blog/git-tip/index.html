<!doctype html><html lang=zh-tw><head><meta charset=utf-8><title>Git 的好用技巧介紹 - Cherry-Pick 和 git reset HEAD^
</title><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=description content="介紹 Git 中的 Cherry-Pick 和 git reset HEAD^ 的用途"><meta name=author content="古古"><meta property="og:image" content="https://kucw.io/images/logo.png"><meta name=generator content="Hugo 0.145.0 with theme pure"><link rel=stylesheet href=https://kucw.io/plugins/bootstrap/bootstrap.min.css><link rel=stylesheet href=https://kucw.io/plugins/themify-icons/themify-icons.css><link rel=stylesheet href=https://kucw.io/plugins/venobox/venobox.css><link rel=stylesheet href=https://kucw.io/plugins/medium-zoom/medium-zoom.css><link rel=stylesheet href=https://kucw.io/scss/style.min.d0dbde05028230889123aec57bd4277b184ffb8ec8b13e1dae16f3946be51984.css media=screen><link rel="shortcut icon" href=https://kucw.io/images/favicon.png type=image/x-icon><link rel=icon href=https://kucw.io/images/favicon.png type=image/x-icon><script async src="https://www.googletagmanager.com/gtag/js?id=G-FDFT2W6V4S"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-NKQ46H0SJW")</script><script src=https://kucw.io/js/google-firebase-login.min.69fad9ce5fc6ddb2a672d6f8497b357c0eb6b5ff30ceea1601cdd8f2b936213b.js type=module></script></head><body><div class=preloader></div><header class=navigation><div class="container-fluid border-bottom fixed-top nav-background-color"><div class=nav-container><nav class="navbar navbar-expand-lg navbar-white bg-transparent px-0"><a class="navbar-brand desktop-view" href=https://kucw.io/><img class="img-fluid logo-with-text-size mx-1" src=https://kucw.io/images/logo-with-text-transparent.png alt>
</a><a class="navbar-brand navbar-brand-mobile mobile-view" href=https://kucw.io/><img class="img-fluid logo-thumb-sm rounded-circle" src=https://kucw.io/images/logo.png alt>
</a><button class="navbar-toggler border-0" type=button data-toggle=collapse data-target=#navigation>
<i class="ti-menu h3"></i></button><div class="collapse navbar-collapse text-center" id=navigation><ul class="navbar-nav mr-auto ml-2"><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>後端技術專欄</a><div class=dropdown-menu><a class=dropdown-item href=https://kucw.io/blog/springboot/1>Spring Boot 零基礎入門</a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>線上課程</a><div class=dropdown-menu><a class=dropdown-item href=https://hahow.in/cr/kucw-github-hugo target=_blank rel=noopener>GitHub 免費架站術！輕鬆打造個人品牌</a>
<a class=dropdown-item href=https://hahow.in/cr/springboot target=_blank rel=noopener>Java 工程師必備！Spring Boot 零基礎入門</a>
<a class=dropdown-item href=https://hahow.in/cr/springsecurity target=_blank rel=noopener>資安一把罩！Spring Security 零基礎入門</a></div></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>自媒體 & 敗家專區</a><div class=dropdown-menu><a class=dropdown-item href=https://kucw.io/blog/as-a-content-creator/1>軟體工程師的自媒體之路</a></div></li><li class=nav-item><a class=nav-link href=https://kucw.io/>所有文章</a></li><li class=nav-item><a class=nav-link href=https://kucw.io/about>關於我</a></li><li class=nav-item><button id=algolia-search-btn class=algolia-search-btn><i class=ti-search></i></button></li></ul><ul class=navbar-nav><a class=nav-newsletter-link href=/bio target=_blank>電子報訂閱</a></ul></div></nav></div></div></header><div id=algolia-search-pop-overlay class=algolia-search-pop-overlay><div class="popup algolia-search-popup"><div class=algolia-search-header><span class=algolia-search-icon><i class=ti-search></i></span><div id=algolia-search-input-container class=algolia-search-input-container></div><span id=algolia-popup-btn-close class=algolia-popup-btn-close><i class=ti-close></i></span></div><div id=algolia-results class=algolia-results><div id=algolia-hits class=algolia-hits></div><div id=algolia-pagination class=algolia-pagination></div></div></div></div><div id=login-pop-overlay class=login-pop-overlay><div class="popup login-popup"><div class=login-popup-header><img class="img-fluid logo-with-text-size mx-1" src=https://kucw.io/images/logo-with-text-transparent.png alt><div id=login-popup-btn-close class=login-popup-btn-close><i class=ti-close></i></div></div><div class=login-popup-body><button class=google-login-btn id=google-login-btn>
<svg width="20" height="20" viewBox="0 0 20 20" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M19.6 10.2c0-.7.0-1.4-.2-2H10V12h5.4c-.3 1.3-1 2.4-2 3v2.6h3.2c2-1.8 3-4.3 3-7.4z" fill="#4285f4"/><path fill-rule="evenodd" clip-rule="evenodd" d="M10 20c2.7.0 5-.9 6.6-2.4L13.4 15a6 6 0 01-9-3.2H1.1v2.6A10 10 0 0010 20z" fill="#34a853"/><path fill-rule="evenodd" clip-rule="evenodd" d="M4.4 11.9a6 6 0 010-3.8V5.5H1.1a10 10 0 000 9l3.3-2.6z" fill="#fbbc05"/><path fill-rule="evenodd" clip-rule="evenodd" d="M10 4c1.5.0 2.8.5 3.8 1.5l2.9-2.9A10 10 0 001 5.5l3.3 2.6A6 6 0 0110 4z" fill="#ea4335"/></svg>
<span class=google-login-btn-text>使用 Google 登入</span></button><p class=login-terms>By signing in, you agree to 古古的後端筆記's terms of service and privacy policy.</p></div></div></div><section class=section-sm><div class="container pl-4 pr-4"><div class=row><div class="col-lg-10 mx-auto"><h1 class=blog-title>Git 的好用技巧介紹 - Cherry-Pick 和 git reset HEAD^</h1><div class=author-details><div><img src=https://kucw.io/images/author-sm.png alt class="author-thumb-blog rounded-circle"></div><div><p>古古</p><p>2024/10/08</p></div></div><hr class=blog-start-divider><div class="content mb-4"><p>Git 可以說是工程師使用上最頻繁的技術，這篇文章會分享兩個我覺得 Git 的好用技巧給大家，分別是：</p><ol><li><strong>Cherry-Pick：</strong> 擷取某個 branch 中的某個 commit</li><li><strong><code>git reset HEAD^</code>：</strong> 撤銷最新的 commit</li></ol><p>所以我們就開始吧！</p><div class=markdown-toc><div class=markdown-toc-title>目錄</div><nav id=TableOfContents><ul><li><a href=#git-好用技巧之一cherry-pick擷取某個-branch-中的某個-commit>Git 好用技巧之一：Cherry-Pick（擷取某個 branch 中的某個 commit）</a></li><li><a href=#git-好用技巧之二git-reset-head撤銷最新的-commit>Git 好用技巧之二：<code>git reset HEAD^</code>（撤銷最新的 commit）</a></li><li><a href=#結語>結語</a></li></ul></nav></div><h2 id=git-好用技巧之一cherry-pick擷取某個-branch-中的某個-commit class=markdown-heading-anchor>Git 好用技巧之一：Cherry-Pick（擷取某個 branch 中的某個 commit）
<a href=#git-%e5%a5%bd%e7%94%a8%e6%8a%80%e5%b7%a7%e4%b9%8b%e4%b8%80cherry-pick%e6%93%b7%e5%8f%96%e6%9f%90%e5%80%8b-branch-%e4%b8%ad%e7%9a%84%e6%9f%90%e5%80%8b-commit>#</a></h2><p>如果說 Git 有什麼隱藏的特殊技能的話，Cherry-Pick 絕對是我心目中的第一名！</p><p><strong>Cherry-Pick 的用途，是「擷取某個 branch 中的某個 commit」</strong>，這個聽起來是有點抽象，所以下面就透過一個實際的例子來示範 Cherry-Pick 的用法。</p><p>像是目前在 master branch 中，在 resources 資料夾底下只有一個 application.properties 的檔案：</p><p><img src=/images/blog/git_cherrypick_1.png alt loading=lazy data-zoomable width=3066 height=1846></p><p>如果這時候，我們切到 test 這個 branch 上，然後在 resources 底下新增一個 123.txt 的檔案，並且成功 commit 的話，結果就會像下圖一樣，在「步驟 3」的地方新增了一個 123 的 commit 出來。</p><p><img src=/images/blog/git_cherrypick_2.png alt loading=lazy data-zoomable width=3066 height=1846></p><p>這時如果再接著新增一個 456.txt 的檔案，並且也成功 commit 的話，結果就會和下圖一樣，在「步驟 2」的地方新增了一個 456 的 commit 出來。</p><p><img src=/images/blog/git_cherrypick_3.png alt loading=lazy data-zoomable width=3066 height=1846></p><p>所以到目前為止，在 test branch 就新增了兩個 commit：</p><ul><li>一個是 123 的 commit（包含 123.txt 檔案）</li><li>另一個則是 456 的 commit（包含 456.txt 檔案）</li></ul><p>而 master branch 中則是維持原樣，沒有任何新增的 commit，resources 底下也只有 application.properties 一個檔案。</p><p><img src=/images/blog/git_cherrypick_4.png alt loading=lazy data-zoomable width=3066 height=1846></p><div class=markdown-breakline></div><p>這時候，神奇的需求來了！！如果現在有人要你切回到 master branch，並且要求你將 test branch 中的 123.txt 的檔案移植到 master branch 的話，你該怎麼辦？</p><p>在還不會使用 Cherry-Pick 時，第一直覺反應是將 test merge 進 master，並且想辦法把 456 的 commit 刪掉，這樣子就能夠只保留 123 的 commit。</p><p>這種做法雖然也能夠解決問題，但是當 commit 數一多的時候，就會變的很混亂，無法確保自己是否有保留到正確的 commit。</p><p>所以這時候，就是 Cherry-Pick 上場的時候了！</p><div class=markdown-breakline></div><p>當我們在 master branch，想要擷取 test branch 中的某個 commit 時，只要在 IDE 上點擊右鍵（在這個例子中，就是對 123 這個 commit 點擊右鍵），然後選擇 Cherry-Pick：</p><p><img src=/images/blog/git_cherrypick_5.png alt loading=lazy data-zoomable width=3062 height=1845></p><p>點擊之後，就可以看到在 master branch 的 resources 資料夾中，就多出了一個 123.txt 的檔案！並且在 master branch 中，也多出了一個新的 commit 123，所以這也就表示，我們就成功的將 test branch 中的 commit，偷到 master branch 中了！</p><p><img src=/images/blog/git_cherrypick_6.png alt loading=lazy data-zoomable width=3066 height=1846></p><p>因此大家以後如果有「擷取別的 branch 中的某個 commit」的需求時，就可以使用 Cherry-Pick 幫助我們非常方便的做到！</p><blockquote><p>補充：Cherry-Pick 的「偷」的動作不是真的偷過來，而是將 test branch 中的 123 commit 中的內容，複製同樣的一份到 master branch 上，所以 master branch 的 123 commit 和 test branch 中的 123 commit，兩者之間是沒有任何關係的，在 Git 的線圖上，他們會是兩個獨立的 commit。</p></blockquote><div class=markdown-breakline></div><p>雖然 Cherry-Pick 的使用情境看起來真的很少見，但老實說我在實際的工作中真的有用過一兩次，而且那次幫助真的滿大的，超級感謝發明 Cherry-Pick 的人XD。</p><p>那時候我是在某條 branch（ex: TICKET-112）上開發，但是後來因為各種原因所以要棄用這條 branch，換到另一條 branch 開發（ex: TICKET-917），這時候我就在新的 branch 上使用 Cherry-Pick 去拉有用的 commit 過來，真的很好用！！</p><p>Cherry-Pick 就是屬於一年不開張、開張吃一年的指令，建議大家可以先把他的情境記下來，等到將來有一天真的也遇見這種神奇的狀況時，再回頭來查看他的使用方法就好～</p><h2 id=git-好用技巧之二git-reset-head撤銷最新的-commit class=markdown-heading-anchor>Git 好用技巧之二：<code>git reset HEAD^</code>（撤銷最新的 commit）
<a href=#git-%e5%a5%bd%e7%94%a8%e6%8a%80%e5%b7%a7%e4%b9%8b%e4%ba%8cgit-reset-head%e6%92%a4%e9%8a%b7%e6%9c%80%e6%96%b0%e7%9a%84-commit>#</a></h2><p><code>git reset HEAD^</code> 是我個人愛用的 Git 指令，<strong>他可以用來撤銷最新的 commit，但是不會刪除該 commit 中的內容</strong>，所以適合用在「上一個 commit 沒寫好，想要重新 commit」的情境上。</p><p>舉例來說，目前在 test branch 中，有兩個 commit：</p><ul><li>一個是 123 的 commit（包含 123.txt 檔案）</li><li>另一個則是 456 的 commit（包含 456.txt 檔案）</li></ul><p><img src=/images/blog/git_reset_1.png alt loading=lazy data-zoomable width=3066 height=1846></p><p>如果這時候我發現「啊！我少添加了一個 789.txt 的檔案」，那麼我就可以先執行 <code>git reset HEAD^</code> 的指令，先將 commit 456 給撤銷（注意此時 456.txt 的檔案仍舊存在，只是變回尚未 commit 的狀態）：</p><p><img src=/images/blog/git_reset_2.png alt loading=lazy data-zoomable width=3066 height=1846></p><p>此時我就可以自由添加想要的程式（ex: 789.txt），然後後續就可以將 456.txt 和 789.txt 一起加到 commit 裡，將他們存放在同一個 commit 中。</p><p><img src=/images/blog/git_reset_3.png alt loading=lazy data-zoomable width=3066 height=1846></p><div class=markdown-breakline></div><p>之所以會特別介紹 <code>git reset HEAD^</code>，是因為我在工作上還滿常用這個指令的。根據以往的經驗，我發現將多個相關的檔案儲存在同一個 commit 裡面，這樣後續如果要排查程式的話，放在同一個 commit 中的檔案會比較好查。</p><p>像是在 IntelliJ 這個 IDE 中，點擊「456 + 789」的 commit，就會在右側呈現這一次 commit 中的檔案有哪些，所以就可以透過這個線索，去查詢和他有相關的改動為何。</p><p><img src=/images/blog/git_reset_4.png alt loading=lazy data-zoomable width=3066 height=1846></p><p>所以在實作上，我個人會偏好盡量把相關的程式 commit 在一起，也算是幫助自己後續排查問題時比較好查詢這樣。</p><p>不過老實說 commit 的頻率和檔案數，這個真的就很看大家自己的喜好，所以大家就自由參考，或是說如果有什麼更好的做法，也歡迎在下方留言！</p><blockquote><p>補充：如果想要在 IntelliJ 中達到 <code>git reset HEAD^</code> 的效果，可以直接在該 commit 上點擊「Undo Commit」，這樣子就可以得到和 <code>git reset HEAD^</code> 一樣的「撤銷 Commit」的效果了！</p><p><img src=/images/blog/git_reset_5.png alt loading=lazy data-zoomable width=3064 height=1847></p></blockquote><h2 id=結語 class=markdown-heading-anchor>結語
<a href=#%e7%b5%90%e8%aa%9e>#</a></h2><p>這篇文章我們有分享了 Git 中的好用技巧：Cherry-Pick 和 <code>git reset HEAD^</code> 給大家，雖然這兩個指令的使用頻率不是很高，但是這兩個都是我自己用過，真心覺得好用的指令～</p><p>如果你對後端技術有興趣的話，也歡迎免費訂閱<a href=/bio target=_blank rel=noopener>《古古的後端筆記》電子報</a>，每週二為你送上一篇後端技術分享，那我們就下一篇文章見啦！</p><blockquote><p>補充：我開設的 <a href=https://hahow.in/cr/springboot target=_blank rel=noopener>Spring Boot 零基礎入門</a>、<a href=https://hahow.in/cr/springsecurity target=_blank rel=noopener>Spring Security 零基礎入門</a>、<a href=https://hahow.in/cr/kucw-github-hugo target=_blank rel=noopener>GitHub 免費架站術</a> 已在 Hahow 平台上架啦！<strong>輸入折扣碼「HH202506KU」即可享 85 折優惠。</strong></p></blockquote></div><div class=blog-newsletter><h4>免費訂閱《古古的後端筆記》電子報（長期休刊中）</h4><div><p>每週二學習後端技術，和 3500 人一起變強💪</p><div id=blog-newsletter class=newsletter><div class="row justify-content-center"><div class=col-md-8><div class=success>已發送 Email 驗證信！請前往信箱驗證你的訂閱</div><div class=error>訂閱失敗，請檢查 Email 是否輸入錯誤，或是聯繫 service@kucw.io 取得協助</div><div class=maintenance>電子報伺服器正在維護中，請稍後再試</div></div></div><form action=# method=POST class="row justify-content-center"><div class="input-group col-md-8"><input type=email required name=email class=form-control placeholder="輸入你的 Email"><div class=input-group-append><button type=submit class="input-group-text btn btn-primary">
免費訂閱</button></div></div></form></div></div></div><hr class=blog-end-divider><script src=https://utteranc.es/client.js label=comment repo=kucw/kucw.github.io issue-term=title theme=github-light crossorigin=anonymous async></script></div></div></div></section><footer><div class=container><div class="row justify-content-center pb-4"><div class="col-12 text-center mb-5"><a href=https://kucw.io/><img class="img-fluid logo-thumb-md rounded-circle mx-1" src=https://kucw.io/images/logo.png alt=古古的後端筆記></a></div></div><div class="row pb-1"><div class="col-lg-8 text-center pb-5"><h4>免費訂閱電子報，每週二學習後端技術🚀<br>（長期休刊中）</h4><div id=footer-newsletter class=newsletter><div class="row justify-content-center"><div class=col-md-8><div class=success>已發送 Email 驗證信！請前往信箱驗證你的訂閱</div><div class=error>訂閱失敗，請檢查 Email 是否輸入錯誤，或是聯繫 service@kucw.io 取得協助</div><div class=maintenance>電子報伺服器正在維護中，請稍後再試</div></div></div><form action=# method=POST class="row justify-content-center"><div class="input-group col-md-8"><input type=email required name=email class=form-control placeholder="輸入你的 Email"><div class=input-group-append><button type=submit class="input-group-text btn btn-primary">
免費訂閱</button></div></div></form></div></div><div class="col-lg-4 pb-3 footer-contact-me"><h5 class=mb-4>追蹤古古</h5><ul class="list-inline footer-social-links"><li class=list-inline-item><a href=https://github.com/kucw target=_blank rel=noopener><i class=ti-github></i></a></li><li class=list-inline-item><a href=https://www.facebook.com/kucw.io target=_blank rel=noopener><i class=ti-facebook></i></a></li><li class=list-inline-item><a href=https://www.instagram.com/kucw.io/ target=_blank rel=noopener><i class=ti-instagram></i></a></li></ul><p>聯絡信箱: service@kucw.io</p></div></div><div class="border-top py-4 text-center">© 2020-2025 古古的後端筆記 | All Rights Reserved.</div></div></div></footer><script>var indexURL="https://kucw.io/index.json"</script><script src=https://kucw.io/plugins/jQuery/jquery.min.js></script><script src=https://kucw.io/plugins/bootstrap/bootstrap.min.js></script><script src=https://kucw.io/plugins/mailbluster/mailbluster.js></script><script src=https://kucw.io/plugins/confetti/confetti.browser.min.js></script><script src=https://kucw.io/plugins/confetti/welcomeConfetti.js></script><script src=https://kucw.io/plugins/medium-zoom/medium-zoom.min.js></script><script src=https://kucw.io/plugins/algolia-search/algoliasearch.js></script><script src=https://kucw.io/plugins/algolia-search/algoliasearch-lite.umd.js></script><script src=https://kucw.io/plugins/algolia-search/instantsearch.production.min.js></script><script src=https://kucw.io/plugins/clipboard/clipboard.min.js></script><script src=https://kucw.io/plugins/clipboard/code-clipboard.js></script><script src=https://kucw.io/plugins/login/login.js></script><script src=https://kucw.io/js/script.min.aa7e377695025ea8426da51bc7ddbc5d24fa31916deb7d8d442296c493598de4.js></script></body></html>